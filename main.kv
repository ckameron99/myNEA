<MenuScreen>:
    BoxLayout:
        size_hint: None, None
        size: min(root.width - 100, 200), 100
        pos_hint: {"center_x": 0.5, "center_y": 0.7}
        Button:
            text: 'Start'
            size_hint: 2,None
            on_press: root.startNByN()
        TextInput:
            text: '3'
            multiline: False
            on_text_validate: root.update(self.text,None)
        TextInput:
            text: '3'
            multiline: False
            on_text_validate: root.update(None,self.text)

    Button:
        size_hint: None,None
        size: 100,100
        pos_hint: {"center_x":0.25,"center_y":0.7}
        text: 'Quantum'
        on_press: root.startQuantum()

    Button:
        size_hint: None,None
        size: 100,100
        pos_hint: {"center_x":0.75,"center_y":0.7}
        text: 'Ultimate'
        on_press: root.startUltimate()


<NByN>:
    grid: Grid
    GridLayout:
        id: Grid
        size_hint: None,None
        size: max(min(root.width,root.height)/3*2,200),max(min(root.width,root.height)/3*2,200)
        pos_hint: {"center_x":0.5, "center_y":0.5}
        cols: root.w

    BoxLayout:
        size_hint: None,None
        size: 300,50
        #pos_hint: {"x":0.03,"top":0.97}
        x: max(10,root.width/100*3)
        top: root.height- max(10,root.height/100*3)
        Button:
            text: 'Back to menu'
            on_press:
                root.manager.transition.direction='right'
                root.manager.current = 'menu'
                root.manager.remove_widget(root)
        Button:
            text: 'Load'
            on_release: root.loadFileGUI()
        Button:
            text: 'Save'
            on_release: root.saveFileGUI()

<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            path: "./savedGames"
            on_submit: root.load(filechooser.path, filechooser.selection)

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)

<SaveDialog>:
    text_input: text_input
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            path: "savedGames/"
            on_selection: text_input.text = (self.selection and self.selection[0] or '').replace("/savedGames/savedGames/","/savedGames/")
            on_submit: root.save(filechooser.path,text_input.text)

        TextInput:
            id: text_input
            size_hint_y: None
            height: 30
            multiline: False

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Save"
                on_release: root.save(filechooser.path, text_input.text)
